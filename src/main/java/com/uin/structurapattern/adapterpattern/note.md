# adapter pattern 适配器模式
## 介绍

适配器模式（Adapter Pattern）是一种结构型设计模式，它允许不兼容的接口之间进行协作。适配器模式通过将一个类的接口转换成客户希望的另一个接口，从而使原本由于接口不兼容而不能一起工作的类可以一起工作。

典型的适配器模式案例：
电源适配器：这可能是最常见的适配器模式例子。例如，旅行者在不同国家使用不同类型的电源插座，电源适配器可以将一个国家的插座类型转换成另一个国家的插座类型。

软件库适配器：假设你在开发一个应用程序，需要集成一个旧的第三方库。这个库的接口与应用程序的需求不兼容。你可以创建一个适配器类，使得旧库的接口符合新系统的要求，从而使它们能够协同工作。

对象适配器：比如你在开发一个图形编辑器应用程序，你需要支持不同类型的图形文件（如 JPEG、PNG、GIF）。通过创建适配器类，你可以将不同图形格式的读取操作适配到统一的接口，从而使得你的应用程序能够处理多种图形文件格式。

Java 输入/输出流：在 Java 中，许多 I/O 流（如 InputStream 和 OutputStream）的处理类可能会有不同的接口，但你可以使用适配器模式来创建一个统一的接口，以便你能够方便地处理不同类型的数据流。

这些案例展示了适配器模式如何帮助在不同接口之间建立桥梁，使得不兼容的接口能够互相协作。

## 适配器模式定义

适配器模式（Adapter Pattern）：将一个接口转换成客户希望的另一个接口，使接口不兼容的那些类可以一起工作，其别名为包装器（Wrapper）。适配器模式既可以作为类结构型模式，也可以作为对象结构型模式。

注：在适配器模式定义中所提及的接口是指广义的接口，它可以表示一个方法或者一组方法的集合。


在对象适配器模式结构图中包含以下3个角色。

（1）Target（目标抽象类）：目标抽象类定义客户所需接口，可以是一个抽象类或接口，也可以是具体类。

（2）Adapter（适配器类）：适配器可以调用另一个接口，作为一个转换器，对Adapter和Target进行适配。适配器类是适配器模式的核心，在对象适配器模式中，它通过继承Target并关联一个Adaptee对象使二者产生联系。

（3）Adaptee（适配者类）：适配者即被适配的角色，它定义了一个已经存在的接口，这个接口需要适配。适配者类一般是一个具体类，包含了客户希望使用的业务方法，在某些情况下可能没有适配者类的源代码。


## 实现方式 

类适配器（继承） 和 对象适配器（组合）

- 类适配器：通过继承旧系统来实现适配。这种方法的缺点是 Java 中的类只能继承一个类，因此它不支持多重继承。 


- 对象适配器：通过持有旧系统的实例来实现适配。相比类适配器，它更灵活，可以适配多个不同的旧系统类，因为它不涉及类的继承。

经常会遇到一个问题：在类适配器模式中，一个适配器能否适配多个适配者？如果能，应该如何实现？如果不能，请说明原因

在类适配器模式中，一个适配器不能适配多个适配者。这是因为类适配器通过继承来实现适配，而 Java 中不支持多重继承，一个类只能继承一个父类。

为了适配多个适配者，可以使用对象适配器模式，因为它通过组合（即持有多个适配者的实例）来实现适配，而不是通过继承

## 双向是适配器

双向适配器（Two-Way Adapter）是一种能够在两个类之间提供双向转换的适配器模式。这意味着适配器可以在两种不同的接口之间进行转换，无论从哪一方调用，都可以适配另一方的接口。


## 缺省适配器


缺省适配器（Default Adapter），也称为接口适配器（Interface Adapter），是一种用于解决接口中的所有方法必须被实现的问题。
它通过创建一个抽象类，该类实现接口中的所有方法，但这些方法的实现是空的。然后，具体的实现类可以选择性地覆盖它们感兴趣的方法，而不是实现所有方法。

## 总结

适配器模式将现有接口转化为客户类所期望的接口，实现了对现有类的复用。它是一种使用频率非常高的设计模式，在软件开发中得以广泛应用，在Spring等开源框架、驱动程序设计（例如JDBC中的数据库驱动程序）中也使用了适配器模式。

适配器模式将现有接口转化为客户类所期望的接口，实现了对现有类的复用。它是一种使用频率非常高的设计模式，在软件开发中得以广泛应用，在Spring等开源框架、驱动程序设计（例如JDBC中的数据库驱动程序）中也使用了适配器模式。

1. 主要优点无论是对象适配器模式还是类适配器模式都具有如下优点： 

（1）将目标类和适配者类解耦。通过引入一个适配器类来重用现有的适配者类，无须修改原有结构。

（2）增加了类的透明性和复用性。将具体的业务实现过程封装在适配者类中，对于客户端类而言是透明的，而且提高了适配者类的复用性，同一个适配者类可以在多个不同的系统中复用。

（3）灵活性和扩展性都非常好。通过使用配置文件，可以很方便地更换适配器，也可以在不修改原有代码的基础上增加新的适配器类，完全符合开闭原则。

具体来说，类适配器模式还有这样的优点：
由于适配器类是适配者类的子类，因此可以在适配器类中置换一些适配者的方法，使得适配器的灵活性更强。

对象适配器模式还有如下优点：

（1）一个对象适配器可以把多个不同的适配者适配到同一个目标。

（2）可以适配一个适配者的子类。由于适配器和适配者之间是关联关系，根据里氏代换原则，适配者的子类也可通过该适配器进行适配。

